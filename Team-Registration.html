<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Registration - Dream League Soccer Tournament</title>
    <meta name="description"
        content="Register your Dream League Soccer team for the ultimate tournament. Enter squad details and secure your spot in the competition.">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background: #0a0a0a;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(34, 197, 94, 0.2);
            z-index: 1000;
            padding: 0.75rem 0;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1.5rem;
        }

        .logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: #22c55e;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo i {
            color: #22c55e;
            font-size: 1.25rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            color: #e5e7eb;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 8px;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #22c55e;
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .mobile-menu {
            display: none;
            color: #ffffff;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Header */
        .registration-header {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.9), rgba(20, 20, 20, 0.8));
            color: white;
            padding: 8rem 0 4rem;
            text-align: center;
            position: relative;
            margin-top: 60px;
        }

        .registration-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(34, 197, 94, 0.05), transparent);
            opacity: 0.5;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1.5rem;
            position: relative;
            z-index: 2;
        }

        .header-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff, #22c55e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .header-subtitle {
            font-size: 1.2rem;
            color: #d1d5db;
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Registration Code Section */
        .code-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            margin: 2rem auto;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .code-header {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .code-header h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .code-content {
            padding: 2rem;
        }

        .whatsapp-contact {
            background: rgba(37, 211, 102, 0.1);
            border: 1px solid rgba(37, 211, 102, 0.3);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .whatsapp-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: linear-gradient(135deg, #25d366, #128c7e);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn i {
            font-size: 1.5rem;
        }

        .code-input-section {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .code-input-group {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .code-input {
            flex: 1;
            padding: 1rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
        }

        .code-input::placeholder {
            color: #9ca3af;
            text-transform: none;
            letter-spacing: normal;
        }

        .code-input:focus {
            outline: none;
            border-color: #22c55e;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }

        .verify-btn {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .verify-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }

        .verify-btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Registration Form */
        .registration-form {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .registration-form.active {
            display: block;
        }

        .steps-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 2rem auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .steps-header {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .steps-header h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .steps-nav {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            gap: 2rem;
            flex-wrap: wrap;
        }

        .step {
            display: flex;
            align-items: center;
            color: #9ca3af;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .step.active {
            color: #22c55e;
        }

        .step.completed {
            color: #4ade80;
        }

        .step-number {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: #9ca3af;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.75rem;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: #22c55e;
            color: white;
        }

        .step.completed .step-number {
            background: #4ade80;
            color: white;
        }

        /* Form Sections */
        .form-section {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.3s ease;
        }

        .form-section.active {
            display: block;
        }

        .form-section h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #e5e7eb;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #9ca3af;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #22c55e;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }

        .form-group.required label::after {
            content: " *";
            color: #f87171;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group select option {
            background: #1a1a1a;
            color: #ffffff;
        }

        /* Squad Builder */
        .squad-builder {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .squad-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .squad-header h4 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
        }

        .player-count {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .player-list {
            display: grid;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .player-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 1rem;
            align-items: center;
            transition: all 0.3s ease;
        }

        .player-item:hover {
            border-color: rgba(34, 197, 94, 0.3);
            background: rgba(34, 197, 94, 0.05);
        }

        .position-select {
            padding: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-size: 0.9rem;
        }

        .remove-player {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .remove-player:hover {
            background: #dc2626;
            transform: scale(1.1);
        }

        .add-player-btn {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .add-player-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }

        /* Team Logo Upload */
        .logo-upload {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.02);
        }

        .logo-upload:hover {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.05);
        }

        .logo-upload.dragover {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .logo-preview {
            max-width: 150px;
            max-height: 150px;
            border-radius: 12px;
            margin: 1rem auto;
            display: none;
            border: 2px solid rgba(34, 197, 94, 0.3);
        }

        /* Success Section */
        .success-section {
            text-align: center;
            padding: 3rem 2rem;
        }

        .success-icon {
            font-size: 4rem;
            color: #22c55e;
            margin-bottom: 1.5rem;
        }

        .success-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: #22c55e;
            margin-bottom: 1rem;
        }

        .team-id {
            background: rgba(34, 197, 94, 0.1);
            border: 2px solid rgba(34, 197, 94, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            margin: 2rem 0;
            color: #22c55e;
        }

        /* Navigation Buttons */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.02);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn {
            padding: 0.875rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-family: 'Inter', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e5e7eb;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
            font-size: 1.1rem;
            padding: 1rem 2rem;
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
        }

        .btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Error and Success Messages */
        .error-message {
            color: #f87171;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }

        .success-message {
            color: #4ade80;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .alert-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #f87171;
        }

        .alert-success {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #4ade80;
        }

        /* Loading Spinner */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(34, 197, 94, 0.3);
            border-top: 3px solid #22c55e;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* WhatsApp Status */
        .whatsapp-status {
            background: rgba(37, 211, 102, 0.1);
            border: 1px solid rgba(37, 211, 102, 0.3);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            color: #25d366;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(10, 10, 10, 0.98);
                flex-direction: column;
                padding: 1rem;
                border-top: 1px solid rgba(34, 197, 94, 0.2);
                gap: 0;
            }

            .nav-menu.active {
                display: flex;
            }

            .nav-menu a {
                padding: 0.75rem 1rem;
                border-radius: 8px;
                margin-bottom: 0.5rem;
            }

            .mobile-menu {
                display: block;
            }

            .registration-header {
                padding: 6rem 0 3rem;
            }

            .header-title {
                font-size: 2.25rem;
            }

            .header-subtitle {
                font-size: 1rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .steps-nav {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }

            .player-item {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 1rem;
            }

            .form-navigation {
                flex-direction: column;
                gap: 1rem;
            }

            .code-input-group {
                flex-direction: column;
            }

            .whatsapp-btn {
                font-size: 1rem;
                padding: 0.875rem 1.5rem;
            }

            .container {
                padding: 0 1rem;
            }
        }

        @media (max-width: 480px) {
            .header-title {
                font-size: 1.875rem;
            }

            .steps-nav {
                padding: 1rem;
            }

            .step {
                font-size: 0.8rem;
            }

            .step-number {
                width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }

            .form-section {
                padding: 1.5rem;
            }

            .squad-builder {
                padding: 1.5rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.7;
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading {
            animation: pulse 2s infinite;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-shield-alt"></i>
                DLS ESPORTS
            </a>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="dashboard.html">Dashboard and Leaderboard</a></li>
                <li><a href="Team-Registration.html" class="active">Register</a></li>
            </ul>
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <section class="registration-header">
        <div class="container">
            <h1 class="header-title">Team Registration</h1>
            <p class="header-subtitle">Join the Ultimate Dream League Soccer Tournament - Register Your Team Today!</p>
            <div class="whatsapp-status">
                <i class="fab fa-whatsapp"></i> Registration data will be sent directly to admin via WhatsApp
            </div>
        </div>
    </section>

    <!-- Registration Code Section -->
    <div class="container">
        <div class="code-section" id="codeSection">
            <div class="code-header">
                <h2><i class="fas fa-key"></i> Get Registration Code</h2>
                <p>Contact admin to purchase your registration code and secure your tournament spot</p>
            </div>
            <div class="code-content">
                <div class="whatsapp-contact">
                    <h3 style="margin-bottom: 1rem; color: #ffffff;">
                        <i class="fab fa-whatsapp"></i> Contact Tournament Admin
                    </h3>
                    <p style="margin-bottom: 1.5rem; color: #d1d5db;">
                        Click the button below to contact our admin on WhatsApp for your registration code.
                        <br><strong>Entry Fee: ₦1,000 per team</strong>
                    </p>
                    <a href="https://wa.me/2349127927167?text=Hello!%20I%20want%20to%20register%20my%20team%20for%20the%20Dream%20League%20Soccer%20Tournament.%20Please%20provide%20me%20with%20a%20registration%20code."
                        class="whatsapp-btn" target="_blank">
                        <i class="fab fa-whatsapp"></i>
                        Contact Admin on WhatsApp
                    </a>
                    <p style="margin-top: 1rem; font-size: 0.9rem; color: #9ca3af;">
                        Admin Number: +234 912 792 7167
                    </p>
                </div>

                <div class="code-input-section">
                    <h4 style="margin-bottom: 1rem; color: #ffffff;">
                        <i class="fas fa-ticket-alt"></i> Enter Registration Code
                    </h4>
                    <p style="margin-bottom: 1rem; color: #d1d5db;">
                        Enter the registration code provided by the admin after payment
                    </p>
                    <div class="code-input-group">
                        <input type="text" class="code-input" id="registrationCode"
                            placeholder="Enter your registration code" maxlength="12">
                        <button type="button" class="verify-btn" id="verifyCodeBtn" onclick="verifyCode()">
                            <i class="fas fa-check"></i> Verify Code
                        </button>
                    </div>
                    <div id="codeMessage" style="margin-top: 1rem;"></div>
                </div>
            </div>
        </div>

        <!-- Registration Form (Hidden initially) -->
        <div class="registration-form" id="registrationForm">
            <div class="steps-container">
                <div class="steps-header">
                    <h2><i class="fas fa-users"></i> Register Your Team</h2>
                    <p>Complete all steps to secure your spot in the tournament</p>
                </div>

                <!-- Steps Navigation -->
                <div class="steps-nav">
                    <div class="step active" id="step1-nav">
                        <div class="step-number">1</div>
                        <span>Team Info</span>
                    </div>
                    <div class="step" id="step2-nav">
                        <div class="step-number">2</div>
                        <span>Squad Details</span>
                    </div>
                    <div class="step" id="step3-nav">
                        <div class="step-number">3</div>
                        <span>Confirmation</span>
                    </div>
                </div>

                <!-- Step 1: Team Information -->
                <div class="form-section active" id="step1">
                    <h3>Team Information</h3>
                    <form id="teamForm">
                        <div class="form-group required">
                            <label for="teamName">Team Name</label>
                            <input type="text" id="teamName" name="teamName" required>
                            <div class="error-message" id="teamNameError">Team name is required</div>
                        </div>

                        <div class="form-row">
                            <div class="form-group required">
                                <label for="captainName">Team Captain Name</label>
                                <input type="text" id="captainName" name="captainName" required>
                                <div class="error-message" id="captainNameError">Captain name is required</div>
                            </div>
                            <div class="form-group required">
                                <label for="contactEmail">Contact Email</label>
                                <input type="email" id="contactEmail" name="contactEmail" required>
                                <div class="error-message" id="contactEmailError">Valid email is required</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="phoneNumber">Phone Number</label>
                                <input type="tel" id="phoneNumber" name="phoneNumber">
                            </div>
                            <div class="form-group">
                                <label for="country">Country</label>
                                <select id="country" name="country">
                                    <option value="">Select Country</option>
                                    <option value="NG">Nigeria</option>
                                    <option value="GH">Ghana</option>
                                    <option value="KE">Kenya</option>
                                    <option value="ZA">South Africa</option>
                                    <option value="EG">Egypt</option>
                                    <option value="US">United States</option>
                                    <option value="UK">United Kingdom</option>
                                    <option value="CA">Canada</option>
                                    <option value="AU">Australia</option>
                                    <option value="OTHER">Other</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="teamMotto">Team Motto (Optional)</label>
                            <input type="text" id="teamMotto" name="teamMotto"
                                placeholder="e.g., Victory Through Unity">
                        </div>

                        <div class="form-group">
                            <label for="socialMedia">Social Media Links (Optional)</label>
                            <textarea id="socialMedia" name="socialMedia" rows="3"
                                placeholder="Twitter: @yourteam&#10;Instagram: @yourteam&#10;Discord: yourteam#1234"></textarea>
                        </div>

                        <!-- Team Logo Upload -->
                        <div class="form-group">
                            <label>Team Logo (Optional)</label>
                            <div class="logo-upload" id="logoUpload">
                                <i class="fas fa-cloud-upload-alt"
                                    style="font-size: 2rem; color: #22c55e; margin-bottom: 1rem;"></i>
                                <p>Click to upload or drag and drop your team logo</p>
                                <p style="font-size: 0.9rem; color: #9ca3af;">PNG, JPG up to 5MB</p>
                                <input type="file" id="logoFile" accept="image/*" style="display: none;">
                                <img class="logo-preview" id="logoPreview" alt="Logo Preview">
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Step 2: Squad Details -->
                <div class="form-section" id="step2">
                    <h3>Squad Details</h3>
                    <p style="margin-bottom: 1.5rem; color: #d1d5db;">Add your team players (minimum 4, maximum 11
                        players)</p>

                    <div class="squad-builder">
                        <div class="squad-header">
                            <h4><i class="fas fa-users"></i> Your Squad</h4>
                            <span class="player-count" id="playerCount">0/11 Players</span>
                        </div>

                        <div class="player-list" id="playerList">
                            <!-- Players will be added dynamically -->
                        </div>

                        <button type="button" class="add-player-btn" id="addPlayerBtn">
                            <i class="fas fa-plus"></i> Add Player
                        </button>
                    </div>
                </div>

                <!-- Step 3: Confirmation -->
                <div class="form-section" id="step3">
                    <div class="success-section">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2 class="success-title">Registration Successful!</h2>
                        <p>Congratulations! Your team registration has been sent to the admin via WhatsApp.</p>

                        <div class="team-id">
                            <strong>Team ID:</strong> <span id="generatedTeamId">DLS-2025-001</span>
                        </div>

                        <p style="margin: 1.5rem 0;">
                            Your team data has been sent directly to the admin's WhatsApp. You will receive confirmation once the admin processes your registration.
                        </p>

                        <div style="margin: 2rem 0;">
                            <a href="dashboard.html" class="btn btn-primary" style="margin-right: 1rem;">
                                <i class="fas fa-chart-line"></i> View Dashboard
                            </a>
                            <a href="index.html" class="btn btn-secondary">
                                <i class="fas fa-home"></i> Back to Home
                            </a>
                        </div>

                        <div
                            style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 1.5rem; border-radius: 12px; margin-top: 2rem;">
                            <h4><i class="fas fa-info-circle"></i> What's Next?</h4>
                            <ul style="text-align: left; margin-top: 1rem; color: #d1d5db;">
                                <li>Admin will review your registration details</li>
                                <li>You'll receive confirmation via WhatsApp</li>
                                <li>Check the dashboard for tournament updates</li>
                                <li>Tournament starts on <strong>September 28, 2025</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="form-navigation">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)"
                        style="display: none;">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                    <button type="button" class="btn btn-success" id="submitBtn" onclick="submitRegistration()"
                        style="display: none;">
                        <i class="fas fa-check"></i> Complete Registration
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Admin WhatsApp Configuration
        const ADMIN_WHATSAPP = {
            number: '+2349127927167', // Admin's WhatsApp number
            baseUrl: 'https://wa.me/'
        };

        // Global variables
        let currentStep = 1;
        const totalSteps = 3;
        let players = [];
        let currentRegCode = '';
        let validCodes = [
            'DLS2025-A1B2', 'DLS2025-C3D4', 'DLS2025-E5F6', 'DLS2025-G7H8', 'DLS2025-I9J0',
            'DLS2025-K1L2', 'DLS2025-M3N4', 'DLS2025-O5P6', 'DLS2025-Q7R8', 'DLS2025-S9T0',
            'DLS2025-U1V2', 'DLS2025-W3X4', 'DLS2025-Y5Z6', 'DLS2025-A7B8', 'DLS2025-C9D0',
            'DLS2025-E1F2', 'DLS2025-G3H4', 'DLS2025-I5J6', 'DLS2025-K7L8', 'DLS2025-M9N0',
            'DLS2025-O1P2', 'DLS2025-Q3R4', 'DLS2025-S5T6', 'DLS2025-U7V8', 'DLS2025-W9X0',
            'DLS2025-Y1Z2', 'DLS2025-A3B4', 'DLS2025-C5D6', 'DLS2025-E7F8', 'DLS2025-G9H0'
        ];
        let usedCodes = JSON.parse(localStorage.getItem('usedCodes') || '[]');

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Team Registration initialized with WhatsApp integration');
        });

        // Code verification
        function verifyCode() {
            const codeInput = document.getElementById('registrationCode');
            const code = codeInput.value.trim().toUpperCase();
            const messageDiv = document.getElementById('codeMessage');
            const verifyBtn = document.getElementById('verifyCodeBtn');

            if (!code) {
                showMessage(messageDiv, 'Please enter a registration code', 'error');
                return;
            }

            verifyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Verifying...';
            verifyBtn.disabled = true;

            setTimeout(() => {
                // Check if code is valid
                if (!validCodes.includes(code)) {
                    showMessage(messageDiv, 'Invalid registration code. Please contact admin for a valid code.', 'error');
                    verifyBtn.innerHTML = '<i class="fas fa-check"></i> Verify Code';
                    verifyBtn.disabled = false;
                    return;
                }

                // Check if code is already used
                if (usedCodes.includes(code)) {
                    showMessage(messageDiv, 'This registration code has already been used.', 'error');
                    verifyBtn.innerHTML = '<i class="fas fa-check"></i> Verify Code';
                    verifyBtn.disabled = false;
                    return;
                }

                // Code is valid and unused
                showMessage(messageDiv, 'Registration code verified successfully!', 'success');
                currentRegCode = code;

                setTimeout(() => {
                    document.getElementById('codeSection').style.display = 'none';
                    document.getElementById('registrationForm').classList.add('active');
                }, 1500);

                verifyBtn.innerHTML = '<i class="fas fa-check"></i> Verify Code';
                verifyBtn.disabled = false;
            }, 1500);
        }

        // Submit registration via WhatsApp
        async function submitRegistration() {
            if (!validateSquad()) {
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending to Admin...';
            submitBtn.disabled = true;
            showLoading(true);

            try {
                // Generate team ID
                const teamId = 'DLS-2025-' + String(Date.now()).slice(-3);

                // Prepare team data
                const teamData = {
                    id: teamId,
                    name: document.getElementById('teamName').value.trim(),
                    captain: document.getElementById('captainName').value.trim(),
                    email: document.getElementById('contactEmail').value.trim(),
                    phone: document.getElementById('phoneNumber').value.trim(),
                    country: document.getElementById('country').value,
                    motto: document.getElementById('teamMotto').value.trim(),
                    socialMedia: document.getElementById('socialMedia').value.trim(),
                    players: players.filter(p => p.name.trim()),
                    registrationCode: currentRegCode,
                    registrationDate: new Date().toLocaleString()
                };

                // Create WhatsApp message
                const message = createWhatsAppMessage(teamData);
                
                // Mark code as used
                usedCodes.push(currentRegCode);
                localStorage.setItem('usedCodes', JSON.stringify(usedCodes));

                // Send to WhatsApp
                const whatsappUrl = `${ADMIN_WHATSAPP.baseUrl}${ADMIN_WHATSAPP.number}?text=${encodeURIComponent(message)}`;
                
                // Update UI
                document.getElementById('generatedTeamId').textContent = teamId;
                changeStep(1);

                // Open WhatsApp after a short delay
                setTimeout(() => {
                    window.open(whatsappUrl, '_blank');
                }, 1000);

                showMessage(document.getElementById('codeMessage'), 'Registration sent to admin successfully!', 'success');

            } catch (error) {
                console.error('Error sending registration:', error);
                alert('Error sending registration. Please try again.');
            } finally {
                submitBtn.innerHTML = '<i class="fas fa-check"></i> Complete Registration';
                submitBtn.disabled = false;
                showLoading(false);
            }
        }

        // Create formatted WhatsApp message
        function createWhatsAppMessage(teamData) {
            let message = `🏆 *DREAM LEAGUE SOCCER TOURNAMENT*\n`;
            message += `📝 *NEW TEAM REGISTRATION*\n\n`;
            
            message += `🆔 *Team ID:* ${teamData.id}\n`;
            message += `⚽ *Team Name:* ${teamData.name}\n`;
            message += `👨‍💼 *Captain:* ${teamData.captain}\n`;
            message += `📧 *Email:* ${teamData.email}\n`;
            
            if (teamData.phone) {
                message += `📱 *Phone:* ${teamData.phone}\n`;
            }
            
            if (teamData.country) {
                message += `🌍 *Country:* ${teamData.country}\n`;
            }
            
            if (teamData.motto) {
                message += `💭 *Team Motto:* ${teamData.motto}\n`;
            }
            
            message += `🎫 *Registration Code:* ${teamData.registrationCode}\n`;
            message += `📅 *Registration Date:* ${teamData.registrationDate}\n\n`;
            
            message += `👥 *SQUAD (${teamData.players.length} players):*\n`;
            teamData.players.forEach((player, index) => {
                message += `${index + 1}. ${player.name} (${player.position})\n`;
            });
            
            if (teamData.socialMedia) {
                message += `\n📱 *Social Media:*\n${teamData.socialMedia}\n`;
            }
            
            message += `\n✅ *Status:* Pending Admin Approval\n`;
            message += `💰 *Entry Fee:* ₦1,000 (Paid)\n\n`;
            message += `Please confirm this registration and add the team to the tournament database.`;
            
            return message;
        }

        // Utility functions
        function showLoading(show) {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = show ? 'flex' : 'none';
        }

        function showMessage(element, message, type) {
            element.innerHTML = `<div class="alert alert-${type}"><i class="fas fa-${type === 'error' ? 'exclamation-triangle' : 'check-circle'}"></i> ${message}</div>`;
        }

        // Step navigation
        function changeStep(direction) {
            if (direction === 1 && !validateCurrentStep()) {
                return;
            }

            const currentSection = document.getElementById(`step${currentStep}`);
            const currentNav = document.getElementById(`step${currentStep}-nav`);

            currentSection.classList.remove('active');
            currentNav.classList.remove('active');

            if (direction === 1) {
                currentNav.classList.add('completed');
            }

            currentStep += direction;

            const newSection = document.getElementById(`step${currentStep}`);
            const newNav = document.getElementById(`step${currentStep}-nav`);

            newSection.classList.add('active');
            newNav.classList.add('active');

            updateNavigationButtons();
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';

            if (currentStep === totalSteps) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'none';
            } else if (currentStep === totalSteps - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        // Validation functions
        function validateCurrentStep() {
            switch (currentStep) {
                case 1:
                    return validateTeamInfo();
                case 2:
                    return validateSquad();
                default:
                    return true;
            }
        }

        function validateTeamInfo() {
            const teamName = document.getElementById('teamName').value.trim();
            const captainName = document.getElementById('captainName').value.trim();
            const contactEmail = document.getElementById('contactEmail').value.trim();

            let isValid = true;

            if (!teamName) {
                showError('teamNameError');
                isValid = false;
            } else {
                hideError('teamNameError');
            }

            if (!captainName) {
                showError('captainNameError');
                isValid = false;
            } else {
                hideError('captainNameError');
            }

            if (!contactEmail || !isValidEmail(contactEmail)) {
                showError('contactEmailError');
                isValid = false;
            } else {
                hideError('contactEmailError');
            }

            return isValid;
        }

        function validateSquad() {
            if (players.length < 4) {
                alert('You need at least 4 players in your squad.');
                return false;
            }

            const emptyPlayers = players.filter(p => !p.name.trim());
            if (emptyPlayers.length > 0) {
                alert('Please fill in all player names.');
                return false;
            }

            return true;
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function showError(errorId) {
            document.getElementById(errorId).style.display = 'block';
        }

        function hideError(errorId) {
            document.getElementById(errorId).style.display = 'none';
        }

        // Squad Management
        function addPlayer() {
            if (players.length >= 11) {
                alert('Maximum 11 players allowed.');
                return;
            }

            const playerId = Date.now();
            const player = {
                id: playerId,
                name: '',
                position: 'MF'
            };

            players.push(player);
            renderPlayers();
            updatePlayerCount();
        }

        function removePlayer(playerId) {
            players = players.filter(p => p.id !== playerId);
            renderPlayers();
            updatePlayerCount();
        }

        function renderPlayers() {
            const playerList = document.getElementById('playerList');
            playerList.innerHTML = '';

            players.forEach((player, index) => {
                const playerDiv = document.createElement('div');
                playerDiv.className = 'player-item';
                playerDiv.innerHTML = `
                    <input type="text" placeholder="Player ${index + 1} Name" value="${player.name}" 
                           onchange="updatePlayerName(${player.id}, this.value)">
                    <select class="position-select" onchange="updatePlayerPosition(${player.id}, this.value)">
                        <option value="GK" ${player.position === 'GK' ? 'selected' : ''}>Goalkeeper</option>
                        <option value="DF" ${player.position === 'DF' ? 'selected' : ''}>Defender</option>
                        <option value="MF" ${player.position === 'MF' ? 'selected' : ''}>Midfielder</option>
                        <option value="ST" ${player.position === 'ST' ? 'selected' : ''}>Striker</option>
                    </select>
                    <button type="button" class="remove-player" onclick="removePlayer(${player.id})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                playerList.appendChild(playerDiv);
            });
        }

        function updatePlayerName(playerId, name) {
            const player = players.find(p => p.id === playerId);
            if (player) {
                player.name = name;
            }
        }

        function updatePlayerPosition(playerId, position) {
            const player = players.find(p => p.id === playerId);
            if (player) {
                player.position = position;
            }
        }

        function updatePlayerCount() {
            document.getElementById('playerCount').textContent = `${players.length}/11 Players`;
        }

        // Logo Upload
        const logoUpload = document.getElementById('logoUpload');
        const logoFile = document.getElementById('logoFile');
        const logoPreview = document.getElementById('logoPreview');

        logoUpload.addEventListener('click', () => logoFile.click());

        logoFile.addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) { // 5MB limit
                    alert('File size must be less than 5MB');
                    return;
                }
                const reader = new FileReader();
                reader.onload = function (e) {
                    logoPreview.src = e.target.result;
                    logoPreview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // Drag and drop for logo
        logoUpload.addEventListener('dragover', function (e) {
            e.preventDefault();
            this.classList.add('dragover');
        });

        logoUpload.addEventListener('dragleave', function (e) {
            e.preventDefault();
            this.classList.remove('dragover');
        });

        logoUpload.addEventListener('drop', function (e) {
            e.preventDefault();
            this.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                logoFile.files = files;
                logoFile.dispatchEvent(new Event('change'));
            }
        });

        // Mobile menu toggle
        document.querySelector('.mobile-menu').addEventListener('click', function () {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.classList.toggle('active');
        });

        // Initialize squad with 4 default players
        document.getElementById('addPlayerBtn').addEventListener('click', addPlayer);

        // Add initial players
        for (let i = 0; i < 4; i++) {
            addPlayer();
        }

        // Enter key for code verification
        document.getElementById('registrationCode').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                verifyCode();
            }
        });
    </script>
</body>

</html>
